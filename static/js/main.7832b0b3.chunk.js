(this["webpackJsonpreact-shopping-project"]=this["webpackJsonpreact-shopping-project"]||[]).push([[0],{40:function(e,t,s){},41:function(e,t,s){},66:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(2),i=s.n(n),r=s(33),c=s.n(r),o=(s(40),s(6)),l=s(7),d=s(9),h=s(8),g=(s(41),s(4)),u=s(19),j=s(10),m=s.n(j),p=s(15),b=s(1),O=s(17),x=s.n(O),C=i.a.createContext(),f=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={LoginEmail:"",LoginPassword:"",LoginFailed:!1,LoginFailedMsg:"",RegisterUsername:"",RegisterEmail:"",RegisterPassword:"",RegisterConfirmPassword:"",RegisterFailed:!1,PasswordLength:!1,PasswordCapitalLetter:!1,PasswordSpecialChar:!1,ConfirmPasswordTest:!1,RegisterFailedText:"",RegisterFailedBorder:"1px solid Red",RegisterSuccess:!1,GetShoppingItems:[],ShoppingItems:[],AddedToCart:!1,LoggedIn:!1,CheckedOutOrder:!1,Loading:!1,SearchItems:"",CartItems:[],NavHeading:"React Shopping App"},e.checkIfLogin=function(){window.sessionStorage.getItem("token")?e.setState(Object(b.a)(Object(b.a)({},e.state),{},{LoggedIn:!0})):e.setState(Object(b.a)(Object(b.a)({},e.state),{},{LoggedIn:!1}))},e.getShoppingItems=function(){e.setState(Object(b.a)(Object(b.a)({},e.state),{},{Loading:!0})),x.a.get("/Shopping").then((function(t){e.setState(Object(b.a)(Object(b.a)({},e.state),{},{GetShoppingItems:t.data,ShoppingItems:t.data,Loading:!1}))})).catch((function(e){console.log(e)})),window.console.clear()},e.loginEmailChange=function(t){e.setState({LoginEmail:t.target.value})},e.loginPasswordChange=function(t){e.setState({LoginPassword:t.target.value})},e.loginSubmit=function(t){t.preventDefault(),x.a.post("/Login",{data:{Email:e.state.LoginEmail,Password:e.state.LoginPassword}}).then((function(t){e.setState(Object(b.a)(Object(b.a)({},e.state),{},{LoggedIn:!0,LoginEmail:"",LoginPassword:"",NavHeading:"Welcome ".concat(t.data.Username)})),window.sessionStorage.setItem("token",JSON.stringify(t.data.token)),window.sessionStorage.setItem("Items",JSON.stringify(t.data.Items)),window.console.clear(),e.props.history.push("/")})).catch((function(t){e.setState(Object(b.a)(Object(b.a)({},e.state),{},{LoginFailed:!0,LoginFailedMsg:t.response.data.msg,LoginEmail:"",LoginPassword:""}))}))},e.logoutClick=function(){var t=window.sessionStorage.getItem("token"),s=JSON.parse(t),a=window.sessionStorage.getItem("Items"),n=JSON.parse(a);x.a.post("/SaveItems",{headers:{"x-auth-token":s},data:{Items:n}}).then((function(t){200===t.status&&(e.setState(Object(b.a)(Object(b.a)({},e.state),{},{LoggedIn:!1,NavHeading:"React Shopping App",CartItems:[]})),window.sessionStorage.removeItem("token"),window.sessionStorage.removeItem("Items"),e.props.history.push("/"))})).catch((function(e){console.log(e)}))},e.registerUsernameChange=function(t){e.setState(Object(b.a)(Object(b.a)({},e.state),{},{RegisterUsername:t.target.value}))},e.registerEmailChange=function(t){e.setState(Object(b.a)(Object(b.a)({},e.state),{},{RegisterEmail:t.target.value}))},e.registerPasswordChange=function(t){e.setState(Object(b.a)(Object(b.a)({},e.state),{},{RegisterPassword:t.target.value})),e.state.RegisterPassword.length>=8?e.setState({PasswordLength:!0}):e.setState({PasswordLength:!1});var s=/[A-Z]/.test(e.state.RegisterPassword);e.setState({PasswordCapitalLetter:s});var a=/(?=.*[!@#$%^&*])/.test(e.state.RegisterPassword);e.setState({PasswordSpecialChar:a})},e.registerConfirmPasswordChange=function(t){e.setState({RegisterConfirmPassword:t.target.value})},e.registerAccountSubmit=function(){var t=Object(p.a)(m.a.mark((function t(s){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.preventDefault(),a=e.state.RegisterPassword===e.state.RegisterConfirmPassword,!1!==e.state.PasswordLength){t.next=6;break}e.setState({RegisterFailed:!0,RegisterFailedText:"Password is not at least 8 characters long"}),t.next=21;break;case 6:if(!1!==e.state.PasswordCapitalLetter){t.next=10;break}e.setState({RegisterFailed:!0,RegisterFailedText:"Password does not contain capital letter"}),t.next=21;break;case 10:if(!1!==e.state.PasswordSpecialChar){t.next=14;break}e.setState({RegisterFailed:!0,RegisterFailedText:"Password does not contain special character ex.[@, #, %]"}),t.next=21;break;case 14:if(!1!==a){t.next=18;break}e.setState({RegisterFailed:!0,RegisterFailedText:"Passwords do not match"}),t.next=21;break;case 18:return t.next=20,x.a.post("/CreateAccount",{data:{username:e.state.RegisterUsername,email:e.state.RegisterEmail,password:e.state.RegisterPassword}}).then((function(t){200===t.status&&e.setState(Object(b.a)(Object(b.a)({},e.state),{},{RegisterUsername:"",RegisterEmail:"",RegisterPassword:"",RegisterConfirmPassword:"",RegisterFailed:!1,PasswordLength:!1,PasswordCapitalLetter:!1,PasswordSpecialChar:!1,ConfirmPasswordTest:!1,RegisterFailedText:"",RegisterSuccess:!0}))})).catch((function(t){e.setState(Object(b.a)(Object(b.a)({},e.state),{},{RegisterFailed:!0,RegisterFailedText:t.response.data.msg,RegisterUsername:"",RegisterEmail:"",RegisterPassword:"",RegisterConfirmPassword:"",PasswordLength:!1,PasswordCapitalLetter:!1,PasswordSpecialChar:!1,ConfirmPasswordTest:!1}))}));case 20:setTimeout((function(){e.setState(Object(b.a)(Object(b.a)({},e.state),{},{RegisterSuccess:!1,RegisterFailed:!1,RegisterFailedText:""})),window.console.clear()}),2500);case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.registerFailedClick=function(){e.setState(Object(b.a)(Object(b.a)({},e.state),{},{RegisterFailed:!1,RegisterFailedText:""}))},e.registerSuccessClick=function(){e.setState(Object(b.a)(Object(b.a)({},e.state),{},{RegisterSuccess:!1}))},e.searchShoppingItems=function(t){e.setState(Object(b.a)(Object(b.a)({},e.state),{},{SearchItems:t.target.value}))},e.searchShoppingItemsKeypress=function(t){if("Enter"===t.key){var s=e.state.ShoppingItems.filter((function(t){return t.name.toLowerCase()===e.state.SearchItems.toLowerCase()?t:null}));s.length<1?e.setState(Object(b.a)(Object(b.a)({},e.state),{},{ShoppingItems:Object(u.a)(e.state.GetShoppingItems)})):e.setState(Object(b.a)(Object(b.a)({},e.state),{},{ShoppingItems:s}))}},e.searchShoppingItemsClick=function(){var t=e.state.ShoppingItems.filter((function(t){return t.name.toLowerCase()===e.state.SearchItems.toLowerCase()?t:null}));t.length<1?e.setState(Object(b.a)(Object(b.a)({},e.state),{},{ShoppingItems:Object(u.a)(e.state.GetShoppingItems)})):e.setState(Object(b.a)(Object(b.a)({},e.state),{},{ShoppingItems:t}))},e.filterShoppingItemsSelect=function(t){if("Name"===t.target.value){var s=e.state.ShoppingItems.sort((function(e,t){return e.name.localeCompare(t.name)}));e.setState(Object(b.a)(Object(b.a)({},e.state),{},{ShoppingItems:s}))}else{var a=e.state.ShoppingItems.sort((function(e,t){return e.price-t.price}));e.setState(Object(b.a)(Object(b.a)({},e.state),{},{ShoppingItems:a}))}},e.addToCartClick=function(){var t=Object(p.a)(m.a.mark((function t(s){var a,n,i,r,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=window.sessionStorage.getItem("token"),n=window.sessionStorage.getItem("Items"),i=JSON.parse(n),a){t.next=8;break}e.setState(Object(b.a)(Object(b.a)({},e.state),{},{LoginFailed:!0,LoginFailedMsg:"You must login to add items to cart"})),e.props.history.push("/Login"),t.next=23;break;case 8:return t.next=10,e.state.ShoppingItems.find((function(e){return e._id===s?e:null}));case 10:if(r=t.sent,!i.some((function(e){return e._id===r._id}))){t.next=20;break}return e.setState(Object(b.a)(Object(b.a)({},e.state),{},{AddedToCart:!0})),t.next=16,i.map((function(e){return e._id===r._id&&(e.quantity+=1),e}));case 16:c=t.sent,window.sessionStorage.setItem("Items",JSON.stringify(c)),t.next=23;break;case 20:e.setState(Object(b.a)(Object(b.a)({},e.state),{},{AddedToCart:!0})),i.push(r),window.sessionStorage.setItem("Items",JSON.stringify(i));case 23:setTimeout((function(){e.setState(Object(b.a)(Object(b.a)({},e.state),{},{AddedToCart:!1}))}),1e3);case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.removeItemFromCartClick=function(){var t=Object(p.a)(m.a.mark((function t(s){var a,n,i,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=window.sessionStorage.getItem("token"),n=window.sessionStorage.getItem("Items"),i=JSON.parse(n),a||(e.setState(Object(b.a)(Object(b.a)({},e.state),{},{LoginFailed:!0,LoginFailedMsg:"You must login to add items to cart"})),e.props.history.push("/Login")),t.next=6,i.filter((function(e){return e._id!==s?e:null}));case 6:r=t.sent,e.setState(Object(b.a)(Object(b.a)({},e.state),{},{CartItems:r})),window.sessionStorage.setItem("Items",JSON.stringify(r));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.checkoutClick=function(){var t=window.sessionStorage.getItem("token"),s=JSON.parse(t);e.setState(Object(b.a)(Object(b.a)({},e.state),{},{CheckedOutOrder:!0})),x.a.delete("/Cart/Delete",{headers:{"x-auth-token":s}}).then((function(t){window.sessionStorage.removeItem("Items"),window.sessionStorage.setItem("Items",JSON.stringify(t.data.Items)),setTimeout((function(){e.setState(Object(b.a)(Object(b.a)({},e.state),{},{CheckedOutOrder:!1})),e.props.history.push("/")}),1200)})).catch((function(t){e.setState(Object(b.a)(Object(b.a)({},e.state),{},{LoginFailed:!0,LoginFailedMsg:t.response.data.msg})),e.props.history.push("/Login")}))},e.closeLoginFailedWarningClick=function(){e.setState(Object(b.a)(Object(b.a)({},e.state),{},{LoginFailed:!1,LoginFailedMsg:""}))},e.getCartItemsFromDatabase=function(){if(window.sessionStorage.getItem("token")){var t=window.sessionStorage.getItem("Items"),s=JSON.parse(t);e.setState(Object(b.a)(Object(b.a)({},e.state),{},{CartItems:Object(u.a)(s)}))}else e.setState(Object(b.a)(Object(b.a)({},e.state),{},{LoginFailed:!0,LoginFailedMsg:"You must login to see your cart"})),e.props.history.push("/Login")},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsx)(C.Provider,{value:{state:this.state,loginEmailChange:this.loginEmailChange,loginPasswordChange:this.loginPasswordChange,loginSubmit:this.loginSubmit,registerUsernameChange:this.registerUsernameChange,registerEmailChange:this.registerEmailChange,registerPasswordChange:this.registerPasswordChange,registerConfirmPasswordChange:this.registerConfirmPasswordChange,registerFailedClick:this.registerFailedClick,registerAccountSubmit:this.registerAccountSubmit,searchShoppingItems:this.searchShoppingItems,searchShoppingItemsClick:this.searchShoppingItemsClick,searchShoppingItemsKeypress:this.searchShoppingItemsKeypress,filterShoppingItemsSelect:this.filterShoppingItemsSelect,addToCartClick:this.addToCartClick,removeItemFromCartClick:this.removeItemFromCartClick,logoutClick:this.logoutClick,checkoutClick:this.checkoutClick,getShoppingItems:this.getShoppingItems,closeLoginFailedWarningClick:this.closeLoginFailedWarningClick,checkIfLogin:this.checkIfLogin,getCartItemsFromDatabase:this.getCartItemsFromDatabase},children:this.props.children})}}]),s}(i.a.Component),S=Object(g.f)(f),v=s(3),w=s.p+"static/media/refresh.a1562e19.svg",k=s.p+"static/media/furniture.13da1210.jpg",I=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.context.getShoppingItems();case 2:return e.next=4,this.context.checkIfLogin();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"LoadingContDiv",style:{display:this.context.state.Loading?"":"none"},children:Object(a.jsx)("img",{className:"LoadingImage",src:w,alt:"Loading"})}),Object(a.jsxs)("div",{style:{display:this.context.state.Loading?"none":""},children:[Object(a.jsxs)("nav",{className:"HomePageNav",children:[Object(a.jsx)("h3",{children:this.context.state.NavHeading}),Object(a.jsxs)("div",{className:"HomePageLinkCont",children:[Object(a.jsx)(v.b,{style:{display:this.context.state.LoggedIn?"none":""},to:"/Login",children:"Login"}),Object(a.jsx)(v.b,{to:"/CreateAccount",children:"Create Account"}),Object(a.jsx)(v.b,{style:{display:this.context.state.LoggedIn?"":"none"},to:"/Cart",children:"Cart"}),Object(a.jsx)("button",{style:{display:this.context.state.LoggedIn?"":"none"},className:"LogoutBtn",onClick:this.context.logoutClick,children:"Logout"})]})]}),Object(a.jsxs)("div",{className:" ShoppingPageFilterDiv",children:[Object(a.jsx)("input",{type:"text",value:this.context.state.SearchItems,placeholder:"Search",onChange:function(t){e.context.searchShoppingItems(t)},onKeyPress:function(t){e.context.searchShoppingItemsKeypress(t)}}),Object(a.jsx)("button",{className:"btn-primary",onClick:function(){e.context.searchShoppingItemsClick()},children:"Search"}),Object(a.jsxs)("select",{onChange:function(t){e.context.filterShoppingItemsSelect(t)},defaultValue:"Filter",children:[Object(a.jsx)("option",{disabled:!0,hidden:!0,children:"Filter"}),Object(a.jsx)("option",{value:"Name",children:"Name"}),Object(a.jsx)("option",{value:"Price",children:"Price"})]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{style:{display:this.context.state.AddedToCart?"":"none"},className:"container AddedToCart alert alert-success",children:"Item Added to Cart"}),Object(a.jsx)("ul",{className:"container ShoppingPageUl",children:this.context.state.ShoppingItems.map((function(t){return Object(a.jsxs)("li",{children:[Object(a.jsx)("img",{src:k,alt:"Shopping Item"}),Object(a.jsx)("h5",{children:t.name}),Object(a.jsx)("p",{children:t.description}),Object(a.jsxs)("p",{children:["$",(Math.round(100*t.price)/100).toFixed(2)]}),Object(a.jsx)("button",{className:"btn-primary",onClick:function(s){e.context.addToCartClick(t._id)},children:"Add to Cart"})]},t._id)}))})]})]})]})}}]),s}(i.a.Component);I.contextType=C;var L=I,y=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.context.checkIfLogin()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("nav",{className:"HomePageNav",children:[Object(a.jsx)("h3",{children:this.context.state.NavHeading}),Object(a.jsxs)("div",{className:"HomePageLinkCont",children:[Object(a.jsx)(v.b,{to:"/",children:"Shopping"}),Object(a.jsx)(v.b,{to:"/CreateAccount",children:"Create Account"}),Object(a.jsx)(v.b,{style:{display:this.context.state.LoggedIn?"":"none"},to:"/Cart",children:"Cart"}),Object(a.jsx)("button",{style:{display:this.context.state.LoggedIn?"":"none"},className:"LogoutBtn",onClick:this.context.logoutClick,children:"Logout"})]})]}),Object(a.jsxs)("form",{onSubmit:function(t){e.context.loginSubmit(t)},className:"container LoginForm",children:[Object(a.jsxs)("div",{className:"LoginEmailDiv",children:[Object(a.jsx)("label",{htmlFor:"Email",children:"Email"}),Object(a.jsx)("input",{type:"Email",required:!0,placeholder:"Enter Email",value:this.context.state.LoginEmail,onChange:function(t){e.context.loginEmailChange(t)},name:"LoginEmail"})]}),Object(a.jsxs)("div",{className:"LoginPasswordDiv",children:[Object(a.jsx)("label",{htmlFor:"Password",children:"Password"}),Object(a.jsx)("input",{type:"Password",required:!0,placeholder:"Enter Password",value:this.context.state.LoginPassword,onChange:function(t){e.context.loginPasswordChange(t)},name:"LoginPassword"})]}),Object(a.jsx)("button",{type:"Submit",className:"btn-primary LoginButton",children:"Login"})]}),Object(a.jsxs)("div",{style:{display:this.context.state.LoginFailed?"":"none"},className:"container LoginWarning alert alert-danger LoginFailedAlert",children:[this.context.state.LoginFailedMsg,Object(a.jsx)("button",{onClick:this.context.closeLoginFailedWarningClick,style:{position:"absolute",right:"0",marginRight:"20px"},className:"btn-close "})]})]})}}]),s}(i.a.Component);y.contextType=C;var P=y,N=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.context.checkIfLogin()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("nav",{className:"HomePageNav",children:[Object(a.jsx)("h3",{children:this.context.state.NavHeading}),Object(a.jsxs)("div",{className:"HomePageLinkCont",children:[Object(a.jsx)(v.b,{to:"/",children:"Shopping"}),Object(a.jsx)(v.b,{style:{display:this.context.state.LoggedIn?"none":""},to:"/Login",children:"Login"}),Object(a.jsx)(v.b,{style:{display:this.context.state.LoggedIn?"":"none"},to:"/Cart",children:"Cart"}),Object(a.jsx)("button",{style:{display:this.context.state.LoggedIn?"":"none"},className:"LogoutBtn",onClick:this.context.logoutClick,children:"Logout"})]})]}),Object(a.jsxs)("form",{className:"container RegisterForm",onSubmit:function(t){e.context.registerAccountSubmit(t)},children:[Object(a.jsxs)("div",{className:"RegisterUsernameDiv",children:[Object(a.jsx)("label",{htmlFor:"Username",children:"Username"}),Object(a.jsx)("input",{type:"Text",required:!0,placeholder:"Enter Username",value:this.context.state.RegisterUsername,onChange:function(t){e.context.registerUsernameChange(t)},name:"RegisterUsername"})]}),Object(a.jsxs)("div",{className:"RegisterEmailDiv",children:[Object(a.jsx)("label",{htmlFor:"Email",children:"Email"}),Object(a.jsx)("input",{type:"Email",required:!0,placeholder:"Enter Email",value:this.context.state.RegisterEmail,onChange:function(t){e.context.registerEmailChange(t)},name:"RegisterEmail"})]}),Object(a.jsxs)("div",{className:"RegisterPasswordDiv",children:[Object(a.jsx)("label",{htmlFor:"Password",children:"Password"}),Object(a.jsx)("input",{type:"Password",required:!0,placeholder:"Enter Password",value:this.context.state.RegisterPassword,onChange:function(t){e.context.registerPasswordChange(t)},name:"RegisterPassword"})]}),Object(a.jsxs)("ul",{className:"RegisterUl",children:[Object(a.jsx)("li",{style:{textDecoration:this.context.state.PasswordLength?"Line-Through":""},children:"Password is at least 8 characters long"}),Object(a.jsx)("li",{style:{textDecoration:this.context.state.PasswordCapitalLetter?"Line-Through":""},children:"Contains as least one capital letter"}),Object(a.jsx)("li",{style:{textDecoration:this.context.state.PasswordSpecialChar?"Line-Through":""},children:"Contains a special character"})]}),Object(a.jsxs)("div",{className:"RegisterConfirmPasswordDiv",children:[Object(a.jsx)("label",{htmlFor:"Password",children:"Password"}),Object(a.jsx)("input",{type:"Password",required:!0,placeholder:"Re-enter Password",value:this.context.state.RegisterConfirmPassword,onChange:function(t){e.context.registerConfirmPasswordChange(t)},name:"RegisterConfirmPassword"})]}),Object(a.jsx)("button",{type:"Submit",className:"btn-primary RegisterButton",children:"Login"})]}),Object(a.jsxs)("div",{style:{display:this.context.state.RegisterFailed?"":"none"},className:"container RegisterWarning alert alert-danger",children:[this.context.state.RegisterFailedText,Object(a.jsx)("button",{onClick:this.context.registerFailedClick,style:{position:"absolute",right:"0",marginRight:"20px"},className:"btn-close "})]}),Object(a.jsxs)("div",{style:{display:this.context.state.RegisterSuccess?"":"none"},className:"container RegisterWarning alert alert-success",children:["Account Created",Object(a.jsx)("button",{onClick:this.context.registerSuccessClick,style:{position:"absolute",right:"0",marginRight:"20px"},className:"btn-close "})]})]})}}]),s}(i.a.Component);N.contextType=C;var F=N,R=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.context.checkIfLogin();case 2:return e.next=4,this.context.getCartItemsFromDatabase();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("nav",{className:"HomePageNav",children:[Object(a.jsx)("h3",{children:this.context.state.NavHeading}),Object(a.jsxs)("div",{className:"HomePageLinkCont",children:[Object(a.jsx)(v.b,{to:"/",children:"Shopping"}),Object(a.jsx)("button",{style:{display:this.context.state.LoggedIn?"":"none"},className:"LogoutBtn",onClick:this.context.logoutClick,children:"Logout"})]})]}),Object(a.jsx)("ul",{className:"container CartUl",children:this.context.state.CartItems.map((function(t){return Object(a.jsxs)("li",{children:[Object(a.jsx)("img",{src:k,alt:"Item"}),Object(a.jsx)("p",{children:t.name}),Object(a.jsxs)("p",{children:["Qty: ",t.quantity]}),Object(a.jsx)("button",{className:"btn-danger",onClick:function(s){return e.context.removeItemFromCartClick(t._id)},children:"X"})]},t._id)}))}),Object(a.jsxs)("div",{className:"container CartCheckoutDiv",children:[Object(a.jsx)(v.b,{className:"btn-primary",to:"/Cart/Checkout",children:"Checkout"}),Object(a.jsx)(v.b,{className:"btn-primary",to:"/",children:"Continue Shopping"})]})]})}}]),s}(i.a.Component);R.contextType=C;var T=R,E=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={Total:""},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,s,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.context.checkIfLogin(),this.context.getCartItemsFromDatabase(),e.next=4,this.context.state.CartItems.map((function(e){return e.quantity>1?e.price*e.quantity:e.price}));case 4:if(!((t=e.sent).length>1)){e.next=12;break}return e.next=8,t.reduce((function(e,t){return e+t}));case 8:s=e.sent,this.setState({Total:(Math.round(100*s)/100).toFixed(2)}),e.next=14;break;case 12:a=t[0],this.setState({Total:a});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("nav",{className:"HomePageNav",children:[Object(a.jsx)("h3",{children:this.context.state.NavHeading}),Object(a.jsxs)("div",{className:"HomePageLinkCont",children:[Object(a.jsx)(v.b,{to:"/Cart",children:"Cart"}),Object(a.jsx)(v.b,{to:"/",children:"Shopping"}),Object(a.jsx)("button",{style:{display:this.context.state.LoggedIn?"":"none"},className:"LogoutBtn",onClick:this.context.logoutClick,children:"Logout"})]})]}),Object(a.jsxs)("div",{className:"MainCheckoutContainer",children:[Object(a.jsxs)("div",{className:"container CheckoutContainer",children:[Object(a.jsx)("ul",{className:"CheckoutUl",children:this.context.state.CartItems.map((function(e){return Object(a.jsxs)("li",{children:[Object(a.jsx)("p",{children:e.name}),Object(a.jsxs)("p",{children:["Qty: ",e.quantity]}),Object(a.jsxs)("p",{children:["$",(Math.round(100*e.price)/100).toFixed(2)]})]},e._id)}))}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Total:"}),Object(a.jsxs)("h3",{children:["$",this.state.Total]})]})]}),Object(a.jsx)("button",{onClick:this.context.checkoutClick,className:"btn-primary CheckoutBtn",children:"Complete Order"}),Object(a.jsx)("div",{style:{display:this.context.state.CheckedOutOrder?"":"none"},className:"container CheckedOutAlert alert alert-success",children:"Order Confirmed, Thank You!"})]})]})}}]),s}(i.a.Component);E.contextType=C;var A=E,D=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsx)("h1",{children:"404: Not Found"})}}]),s}(i.a.Component),U=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(S,{children:Object(a.jsxs)(g.c,{children:[Object(a.jsx)(g.a,{exact:!0,path:"/",children:Object(a.jsx)(L,{})}),Object(a.jsx)(g.a,{path:"/Login",children:Object(a.jsx)(P,{})}),Object(a.jsx)(g.a,{path:"/CreateAccount",children:Object(a.jsx)(F,{})}),Object(a.jsx)(g.a,{exact:!0,path:"/Cart",children:Object(a.jsx)(T,{})}),Object(a.jsx)(g.a,{path:"/Cart/Checkout",children:Object(a.jsx)(A,{})}),Object(a.jsx)(g.a,{path:"*",children:Object(a.jsx)(D,{})})]})})})}}]),s}(i.a.Component),H=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,67)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;s(e),a(e),n(e),i(e),r(e)}))};c.a.render(Object(a.jsx)(v.a,{children:Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(U,{})})}),document.getElementById("root")),H()}},[[66,1,2]]]);
//# sourceMappingURL=main.7832b0b3.chunk.js.map